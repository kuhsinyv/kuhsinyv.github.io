<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Hsinyv Ku&#39;s Space</title>
    <link>/</link>
    <description>Recent content on Hsinyv Ku&#39;s Space</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Â© 2021 Powered By Hsinyv Ku &lt;a href=&#34;https://beian.miit.gov.cn/&#34; target=&#34;_blank&#34;&gt;èµ£ICPå¤‡20002368å·-1&lt;/a&gt;</copyright>
    <lastBuildDate>Thu, 29 Jul 2021 23:24:06 +0800</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>å…³äºæˆ‘</title>
      <link>/about/about-me/</link>
      <pubDate>Thu, 29 Jul 2021 23:24:06 +0800</pubDate>
      
      <guid>/about/about-me/</guid>
      <description>Hi there!  ğŸ’ I am an undergraduate student in Nanchang University (majoring in computer science, grade 2019). ğŸ’» I&amp;rsquo;m working on some private projects for my school. ğŸ‘¬ I&amp;rsquo;m working on Internet projects with friends in a cozy &amp;ldquo;family&amp;rdquo; @NCUHOME ğŸ ! ğŸ“š I&amp;rsquo;m learning about WEB backend development and part of the DevOps.  GithHub Stats 
 More GitHub</description>
      <content>&lt;h3 id=&#34;hi-there&#34;&gt;Hi there!&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ’ I am an undergraduate student in Nanchang University (majoring in computer science, grade 2019).&lt;/li&gt;
&lt;li&gt;ğŸ’» I&amp;rsquo;m working on some private projects for my school.&lt;/li&gt;
&lt;li&gt;ğŸ‘¬ I&amp;rsquo;m working on Internet projects with friends in a cozy &amp;ldquo;family&amp;rdquo; &lt;a href=&#34;https://github.com/ncuhome&#34;&gt;@NCUHOME ğŸ &lt;/a&gt;!&lt;/li&gt;
&lt;li&gt;ğŸ“š I&amp;rsquo;m learning about WEB backend development and part of the DevOps.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;githhub-stats&#34;&gt;GithHub Stats&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/anuraghazra/github-readme-stats&#34;&gt;&lt;img src=&#34;https://github-readme-stats.vercel.app/api?username=kuhsinyv&amp;amp;count_private=true&amp;amp;show_icons=true&amp;amp;theme=default&amp;amp;bg_color=45,69FF97,00E4FF&#34; alt=&#34;kuhsinyv&amp;rsquo;s GitHub stats&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;more&#34;&gt;More&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/kuhsinyv/&#34;&gt;GitHub&lt;/a&gt;&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>åœ¨ k8s ä¸Šä½¿ç”¨å¤–éƒ¨è®¤è¯</title>
      <link>/posts/use-external-auth-on-k8s/</link>
      <pubDate>Thu, 29 Jul 2021 22:11:15 +0800</pubDate>
      
      <guid>/posts/use-external-auth-on-k8s/</guid>
      <description>ä¸€ã€JSON Web Token 1. ä»€ä¹ˆæ˜¯ JWT ï¼Ÿ  è¯¦ç»†å†…å®¹è¯·å‚è€ƒ RFC 7519ã€‚ JWT æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç”¨äºå°†å„æ–¹ä¹‹é—´çš„ä¿¡æ¯ä½œä¸º JSON å¯¹è±¡è¿›è¡Œå®‰å…¨åœ°ä¼ è¾“çš„ç´§å‡‘ä¸”è‡ªåŒ…å«çš„æ–¹å¼ã€‚ ç”±äºä¿¡æ¯è¢«æ•°å­—ç­¾åï¼Œå› æ­¤å¯ä»¥éªŒè¯å’Œä¿¡ä»»ã€‚ å¯ä»¥ä½¿ç”¨ HMACã€RSA æˆ– ECDSA ç®—æ³•å¯¹ JWT è¿›è¡Œç­¾åã€‚  2. ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å®ƒï¼Ÿ  è¯·æ±‚é‰´æƒ ä¿¡æ¯ä¼ è¾“ï¼ˆå¯ä»¥éªŒè¯å†…å®¹æ˜¯å¦è¢«ç¯¡æ”¹ï¼‰  3. JWT çš„ç»“æ„   ä¸‰ä¸ªç»„æˆéƒ¨åˆ†
  Header
{ &amp;#34;alg&amp;#34;: &amp;#34;HS256&amp;#34;, &amp;#34;typ&amp;#34;: &amp;#34;JWT&amp;#34; }   Payload
 Registered claims (éå¼ºåˆ¶æ€§çš„)ï¼Œå¦‚ issã€exp å’Œ sub ç­‰ã€‚ Public claims Private claims  { &amp;#34;exp&amp;#34;: 1627544720, &amp;#34;sub&amp;#34;: &amp;#34;1234567890&amp;#34;, &amp;#34;username&amp;#34;: &amp;#34;6109119115&amp;#34;, &amp;#34;role&amp;#34;: &amp;#34;admin&amp;#34; }   Signature</description>
      <content>&lt;h2 id=&#34;ä¸€json-web-token&#34;&gt;ä¸€ã€JSON Web Token&lt;/h2&gt;
&lt;h3 id=&#34;1-ä»€ä¹ˆæ˜¯-jwt-&#34;&gt;1. ä»€ä¹ˆæ˜¯ JWT ï¼Ÿ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯¦ç»†å†…å®¹è¯·å‚è€ƒ &lt;a href=&#34;https://datatracker.ietf.org/doc/html/rfc7519&#34;&gt;RFC 7519&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JWT&lt;/strong&gt; æ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œå®ƒå®šä¹‰äº†ä¸€ç§ç”¨äº&lt;strong&gt;å°†å„æ–¹ä¹‹é—´çš„ä¿¡æ¯ä½œä¸º JSON å¯¹è±¡è¿›è¡Œå®‰å…¨åœ°ä¼ è¾“&lt;/strong&gt;çš„ç´§å‡‘ä¸”è‡ªåŒ…å«çš„æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºä¿¡æ¯è¢«æ•°å­—ç­¾åï¼Œå› æ­¤å¯ä»¥éªŒè¯å’Œä¿¡ä»»ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨ HMACã€RSA æˆ– ECDSA ç®—æ³•å¯¹ &lt;strong&gt;JWT&lt;/strong&gt; è¿›è¡Œ&lt;strong&gt;ç­¾å&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å®ƒ&#34;&gt;2. ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å®ƒï¼Ÿ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯·æ±‚é‰´æƒ&lt;/li&gt;
&lt;li&gt;ä¿¡æ¯ä¼ è¾“ï¼ˆå¯ä»¥éªŒè¯å†…å®¹æ˜¯å¦è¢«ç¯¡æ”¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-jwt-çš„ç»“æ„&#34;&gt;3. JWT çš„ç»“æ„&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸‰ä¸ªç»„æˆéƒ¨åˆ†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Header&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;alg&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;HS256&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;typ&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;JWT&amp;#34;&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Payload&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Registered claims (éå¼ºåˆ¶æ€§çš„)ï¼Œå¦‚ &lt;code&gt;iss&lt;/code&gt;ã€&lt;code&gt;exp&lt;/code&gt; å’Œ &lt;code&gt;sub&lt;/code&gt; ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;Public claims&lt;/li&gt;
&lt;li&gt;Private claims&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;{
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;exp&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ae81ff&#34;&gt;1627544720&lt;/span&gt;,
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;sub&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;1234567890&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;6109119115&amp;#34;&lt;/span&gt;,
  &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Signature&lt;/p&gt;
&lt;p&gt;ä»¥ HMAC SHA256 ç®—æ³•ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;HMACSHA256(base64UrlEncode(header) + &amp;quot;.&amp;quot; + base64UrlEncode(payload), secret)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸€ä¸ªæœªç»è§£æçš„ JWT çœ‹èµ·æ¥åƒè¿™æ ·ï¼š&lt;code&gt;xxxxx.yyyyy.zzzzz&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ Bearer æ¨¡å¼çš„ Authorization è¯·æ±‚å¤´ä¸­ï¼š&lt;code&gt;Authorization: Bearer xxxxx.yyyyy.zzzzz&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-ä½¿ç”¨-jwt-çš„åº”ç”¨è¯·æ±‚æµç¨‹&#34;&gt;4. ä½¿ç”¨ JWT çš„åº”ç”¨è¯·æ±‚æµç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;/jwt-request.png&#34; alt=&#34;image-20210729161426928&#34;&gt;&lt;/p&gt;
</content>
    </item>
    
  </channel>
</rss>
